<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting Started &mdash; RPython By Example  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Built-in Types" href="../builtin-types/index.html" />
    <link rel="prev" title="Overview" href="../overview/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> RPython By Example
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hello-world">Hello, World!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../builtin-types/index.html">Built-in Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../builtin-functions/index.html">Built-in Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../classes/index.html">Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow-control/index.html">Flow Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rlib/index.html">Modules (rlib)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jit/index.html">JIT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rffi/index.html">Foreign Function Interface (rffi)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../error/index.html">Compilation Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rewrite-benchmarks/index.html">Rewriting Python Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples with RPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/index.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">RPython By Example</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Getting Started</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/mesalock-linux/rpython-by-example/blob/master/getting-started/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline"></a></h1>
<section id="hello-world">
<h2>Hello, World!<a class="headerlink" href="#hello-world" title="Permalink to this headline"></a></h2>
<p>This is the source code of a traditional Hello World program written in
RPython.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">entry_point</span><span class="p">(</span><span class="n">argv</span><span class="p">):</span>
    <span class="nb">print</span> <span class="s2">&quot;Hello, World!&quot;</span>
    <span class="k">return</span> <span class="mi">0</span>

<span class="c1"># The target function is the main function of a RPython program. It takes</span>
<span class="c1"># command line arguments as inputs and return an entry point function.</span>
<span class="k">def</span> <span class="nf">target</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">entry_point</span>
</pre></div>
</div>
<p>To compile it, we should first install Python (both CPython and PyPy are OK).
In addition, we need to obtain the RPython compiler from
<a class="reference external" href="https://bitbucket.org/pypy/pypy">PyPy’s repository</a>. The RPython compiler
is located at <code class="docutils literal notranslate"><span class="pre">pypy/rpython/bin/rpython</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All examples in this doc are tested with the RPython compiler in PyPy’s
codebase (tag: <code class="docutils literal notranslate"><span class="pre">release-pypy2.7-v6.0.0</span></code> and <code class="docutils literal notranslate"><span class="pre">release-pypy2.7-v7.1.0</span></code>),
and with CPython 2.7 (aka. Python 2.7) or PyPy 2.7 installed.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ sudo apt-get install python2 libgc-dev
$ sudo apt-get install libgc-dev              <span class="c1"># if you want to use Boehm GC</span>
$ wget https://bitbucket.org/pypy/pypy/downloads/pypy2.7-v7.1.0-src.tar.bz2
$ tar jxf pypy2.7-v7.1.0-src.tar.bz2
$ <span class="nb">export</span> <span class="nv">RPY</span><span class="o">=</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/pypy2.7-v7.1.0-src/rpython/bin/rpython
$ <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/pypy2.7-v7.1.0-src/rpython/bin
$ <span class="nb">cd</span> code <span class="o">&amp;&amp;</span> make hello_world
</pre></div>
</div>
</div>
<p>Now, we can compile our first hello world example by running:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ rpython hello_world.py
</pre></div>
</div>
<p>An executable named <code class="docutils literal notranslate"><span class="pre">hello_world-c</span></code> is generated by the compiler. When
launching the executable, a “Hello, World!” message will be printed out.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ ./hello_world-c
Hello, World!
</pre></div>
</div>
<p>Since RPython syntax is a restricted version of Python, therefore you can
use any Python interpreter to run the hello world example just like before.
In this example, we should add an entry point in the script.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">entry_point</span><span class="p">(</span><span class="n">argv</span><span class="p">):</span>
    <span class="nb">print</span> <span class="s2">&quot;Hello, World!&quot;</span>
    <span class="k">return</span> <span class="mi">0</span>

<span class="c1"># The target function is the main function of a RPython program. It takes</span>
<span class="c1"># command line arguments as inputs and return an entry point function.</span>
<span class="k">def</span> <span class="nf">target</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">entry_point</span>

<span class="c1"># This is the entry point for interpreting a script with Python.</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">sys</span>
    <span class="n">entry_point</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
</pre></div>
</div>
<p>Then, you can run the script as normal with Python.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ python hello_world_python.py
Hello, World!
</pre></div>
</div>
<p>This implies that you can test your RPython code with any Python interpreter and
then compile to native code.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../overview/index.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../builtin-types/index.html" class="btn btn-neutral float-right" title="Built-in Types" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Mingshen Sun.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>